<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Novo Cartão | Meu Financeiro</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" type="image/svg+xml" href="../Icon/LogoPoup.svg">
</head>
<body>
    <div class="aplicativo">
        <!-- Cabeçalho com gradiente -->
        <header class="cabecalho cabecalho-gradient">
            <button class="botao-voltar" aria-label="Voltar">
                <span class="material-icons">arrow_back</span>
            </button>
            <h1>Novo Cartão</h1>
        </header>

        <!-- Cartão 3D -->
        <div class="cartao-container">
            <div class="cartao" id="cartao">
                <div class="cartao-frente">
                    <div class="cartao-topo">
                        <div class="chip"></div>
                        <div class="bandeira" id="bandeira-visual"></div>
                    </div>
                    <div class="cartao-numero" id="numero-cartao-visual">•••• •••• •••• ••••</div>
                    <div class="cartao-rodape">
                        <div class="cartao-nome" id="nome-cartao-visual">SEU NOME AQUI</div>
                        <div class="cartao-validade" id="validade-cartao-visual">MM/AA</div>
                    </div>
                </div>
                <div class="cartao-verso">
                    <div class="cartao-faixa"></div>
                    <div class="cartao-cvv">
                        <div class="cvv-texto">CVV</div>
                        <div class="cvv-numero" id="cvv-cartao-visual">•••</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Formulário com etapas -->
        <main class="formulario-container">
            <!-- Indicador de progresso -->
            <div class="indicador-progresso">
                <div class="etapa etapa-ativa" data-etapa="1">
                    <div class="numero-etapa">1</div>
                    <span>Dados</span>
                </div>
                <div class="linha-progresso"></div>
                <div class="etapa" data-etapa="2">
                    <div class="numero-etapa">2</div>
                    <span>Configurações</span>
                </div>
                <div class="linha-progresso"></div>
                <div class="etapa" data-etapa="3">
                    <div class="numero-etapa">3</div>
                    <span>Finalizar</span>
                </div>
            </div>

            <!-- Etapa 1: Dados do Cartão -->
            <div class="etapa-formulario etapa-ativa" id="etapa-1">
                <div class="card-formulario">
                    <h3 class="titulo-card">Dados do Cartão</h3>
                    
                    <!-- Linha 1: Nome e Bandeira -->
                    <div class="linha-campos">
                        <div class="campo-formulario campo-expandido">
                            <label for="nome-cartao" class="rotulo-campo">Nome no Cartão</label>
                            <div class="container-input">
                                <span class="material-icons icone-campo">person</span>
                                <input type="text" id="nome-cartao" placeholder="Como aparece no cartão" 
                                       maxlength="30" required>
                            </div>
                        </div>
                        
                        <div class="campo-formulario">
                            <label class="rotulo-campo">Bandeira</label>
                            <div class="seletor-bandeira" id="seletor-bandeira">
                                <div class="opcao-selecionada" tabindex="0">
                                    <span>Selecionar</span>
                                    <span class="material-icons seta-dropdown">expand_more</span>
                                </div>
                                <div class="opcoes-bandeira">
                                    <div class="opcao-bandeira" data-value="visa">
                                        <i class="fab fa-cc-visa"></i>
                                        <span>Visa</span>
                                    </div>
                                    <div class="opcao-bandeira" data-value="mastercard">
                                        <i class="fab fa-cc-mastercard"></i>
                                        <span>Mastercard</span>
                                    </div>
                                    <div class="opcao-bandeira" data-value="elo">
                                        <i class="fab fa-cc-jcb"></i>
                                        <span>Elo</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Linha 2: Número do Cartão -->
                    <div class="campo-formulario">
                        <label for="numero-cartao" class="rotulo-campo">Número do Cartão</label>
                        <div class="container-input">
                            <span class="material-icons icone-campo">credit_card</span>
                            <input type="text" id="numero-cartao" placeholder="0000 0000 0000 0000" 
                                   maxlength="19">
                        </div>
                    </div>

                    <!-- Linha 3: Validade e CVV -->
                    <div class="linha-campos">
                        <div class="campo-formulario">
                            <label class="rotulo-campo">Validade</label>
                            <div class="container-input-duplo">
                                <input type="text" id="validade-mes" placeholder="MM" maxlength="2">
                                <span>/</span>
                                <input type="text" id="validade-ano" placeholder="AA" maxlength="2">
                            </div>
                        </div>
                        
                        <div class="campo-formulario">
                            <label for="cvv-cartao" class="rotulo-campo">CVV</label>
                            <div class="container-input">
                                <span class="material-icons icone-campo">lock</span>
                                <input type="password" id="cvv-cartao" placeholder="•••" maxlength="4">
                                <button type="button" class="botao-cvv" id="ver-cvv">
                                    <span class="material-icons">visibility</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Etapa 2: Configurações -->
            <div class="etapa-formulario" id="etapa-2">
                <div class="card-formulario">
                    <h3 class="titulo-card">Configurações</h3>
                    
                    <!-- Linha 1: Conta e Limite -->
                    <div class="linha-campos">
                        <div class="campo-formulario campo-expandido">
                            <label class="rotulo-campo">Conta Vinculada</label>
                            <div class="seletor-conta" id="seletor-conta">
                                <div class="opcao-selecionada" tabindex="0">
                                    <span>Selecione uma conta</span>
                                    <span class="material-icons seta-dropdown">expand_more</span>
                                </div>
                                <div class="opcoes-conta">
                                    <!-- Opções carregadas dinamicamente -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="campo-formulario" id="secao-limite" tabindex="0">
                            <label class="rotulo-campo">Limite</label>
                            <div class="container-input">
                                <span class="material-icons icone-campo">attach_money</span>
                                <input type="text" id="valor-limite" placeholder="R$ 0,00" readonly>
                            </div>
                        </div>
                    </div>

                    <!-- Linha 2: Fechamento e Vencimento -->
                    <div class="linha-campos">
                        <div class="campo-formulario">
                            <label class="rotulo-campo">Fechamento</label>
                            <div class="seletor-dia" id="seletor-fechamento">
                                <div class="opcao-selecionada" tabindex="0">
                                    <span>Dia</span>
                                    <span class="material-icons seta-dropdown">expand_more</span>
                                </div>
                                <div class="opcoes-dia"><!-- Dias 1-31 --></div>
                            </div>
                        </div>
                        
                        <div class="campo-formulario">
                            <label class="rotulo-campo">Vencimento</label>
                            <div class="seletor-dia" id="seletor-vencimento">
                                <div class="opcao-selecionada" tabindex="0">
                                    <span>Dia</span>
                                    <span class="material-icons seta-dropdown">expand_more</span>
                                </div>
                                <div class="opcoes-dia"><!-- Dias 1-31 --></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Etapa 3: Confirmação -->
            <div class="etapa-formulario" id="etapa-3">
                <div class="card-formulario">
                    <h3 class="titulo-card">Confirmação</h3>
                    
                    <div class="resumo-cartao">
                        <div class="item-resumo">
                            <span class="label-resumo">Nome:</span>
                            <span class="valor-resumo" id="resumo-nome">-</span>
                        </div>
                        <div class="item-resumo">
                            <span class="label-resumo">Bandeira:</span>
                            <span class="valor-resumo" id="resumo-bandeira">-</span>
                        </div>
                        <div class="item-resumo">
                            <span class="label-resumo">Conta:</span>
                            <span class="valor-resumo" id="resumo-conta">-</span>
                        </div>
                        <div class="item-resumo">
                            <span class="label-resumo">Limite:</span>
                            <span class="valor-resumo" id="resumo-limite">R$ 0,00</span>
                        </div>
                        <div class="item-resumo">
                            <span class="label-resumo">Fechamento:</span>
                            <span class="valor-resumo" id="resumo-fechamento">-</span>
                        </div>
                        <div class="item-resumo">
                            <span class="label-resumo">Vencimento:</span>
                            <span class="valor-resumo" id="resumo-vencimento">-</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Botões de navegação -->
            <div class="botoes-navegacao">
                <button class="botao-secundario" id="botao-anterior" style="display: none;">
                    <span class="material-icons">chevron_left</span>
                    Anterior
                </button>
                
                <button class="botao-primario" id="botao-proximo">
                    Próximo
                    <span class="material-icons">chevron_right</span>
                </button>
                
                <button class="botao-primario" id="botao-salvar" style="display: none;">
                    <span class="material-icons">save</span>
                    Salvar Cartão
                </button>
            </div>
        </main>

    <!-- Calculadora para editar saldo -->
    <div class="calculadora-container" id="calculadora-container" role="dialog" aria-modal="true" aria-labelledby="calculadora-titulo">
        <div class="input-container">
            <input type="text" class="calculadora-display" id="calculadora-display" readonly aria-label="Valor atual">
            <button class="apagar" id="botao-apagar" aria-label="Apagar dígito">X</button>
        </div>
        <div class="calculadora-botoes">
            <button>1</button>
            <button>2</button>
            <button>3</button>
            <button>+</button>
            <button>4</button>
            <button>5</button>
            <button>6</button>
            <button>-</button>
            <button>7</button>
            <button>8</button>
            <button>9</button>
            <button>*</button>
            <button>,</button>
            <button>0</button>
            <button>=</button>
            <button>/</button>
            <button class="btn-cancelar-calculadora">Cancelar</button>
            <button class="btn-confirmar-calculadora">Concluído</button>
        </div>
    </div>


        <!-- Popup de Mensagem -->
        <div id="popup-mensagem" class="modal">
            <div class="modal-conteudo">
                <div class="modal-cabecalho">
                    <h3 class="modal-titulo">Aviso</h3>
                    <button class="modal-fechar" aria-label="Fechar modal">
                        <span class="material-icons">close</span>
                    </button>
                </div>
                <div class="modal-corpo">
                    <p id="popup-texto"></p>
                </div>
                <div class="modal-rodape">
                    <button id="popup-botao" class="botao-modal">OK</button>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>